<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>
      pretty-money | A tiny currency formatting library for JavaScript
    </title>
    <meta
      name="description"
      content="A tiny currency formatting library for JavaScript"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://igoradamenko.github.io/awsm.css/css/awsm.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/pretty-money@1/dist/pretty-money.umd.js"></script>
  </head>
  <body>
    <header>
      <p>
        <img
          src="https://raw.githubusercontent.com/googlefonts/noto-emoji/master/png/128/emoji_u1f4b8.png"
          width="64"
          height="64"
          alt="Money With Wings emoji"
        />
      </p>
      <h1><s>pretty-money</s></h1>
      <s>A tiny currency formatting library for JavaScript</s>
    </header>

    <main>
      <article>
        <h2>THIS PROJECT IS DEPRECATED</h2>

        <p>
          Starting with Node 14, all currency values are formatted correctly.
          You can use the built-in
          <code>Number.prototype.toLocaleString()</code> method instead.
        </p>
      </article>

      <article>
        <h2>
          <a href="#demo" id="demo" aria-hidden="true"></a>
          Demo
        </h2>

        <form id="demoForm">
          <label for="input">Amount</label>
          <input
            id="input"
            type="number"
            value="1000"
            oninput="applyChanges()"
          />
          <output>
            <strong>Formatted:</strong>
            <span id="output">$ 1,000</span>
          </output>
        </form>

        <form id="configForm">
          <h4>Config</h4>
          <fieldset>
            <legend>Currency symbol</legend>
            <label for="currency">Symbol</label>
            <input
              id="currency"
              name="currency"
              type="text"
              value="$"
              oninput="applyChanges()"
            />

            <p>
              Position<br />
              <label>
                <input
                  type="radio"
                  name="position"
                  value="before"
                  onchange="applyChanges()"
                  checked
                />before
              </label>
              <label>
                <input
                  type="radio"
                  name="position"
                  value="after"
                  onchange="applyChanges()"
                />after
              </label>
            </p>

            <p>
              Spaced<br />
              <label>
                <input
                  type="radio"
                  name="spaced"
                  value="true"
                  onchange="applyChanges()"
                  checked
                />true
              </label>
              <label>
                <input
                  type="radio"
                  name="spaced"
                  value="false"
                  onchange="applyChanges()"
                />false
              </label>
            </p>
          </fieldset>
          <fieldset>
            <legend>Decimal places</legend>
            <p>
              Mode<br />
              <label>
                <input
                  type="radio"
                  name="decimals"
                  value="fixed"
                  onchange="applyChanges()"
                />fixed
              </label>
              <label>
                <input
                  type="radio"
                  name="decimals"
                  value="fluid"
                  onchange="applyChanges()"
                />fluid
              </label>
              <label>
                <input
                  type="radio"
                  name="decimals"
                  value="minmax"
                  onchange="applyChanges()"
                  checked
                />minmax
              </label>
            </p>

            <label for="minDecimal">Min amount of decimal spaces</label>
            <input
              id="minDecimal"
              name="minDecimal"
              type="number"
              value="0"
              oninput="applyChanges()"
            />

            <label for="maxDecimal">Max amount of decimal spaces</label>
            <input
              id="maxDecimal"
              name="maxDecimal"
              type="number"
              value="2"
              oninput="applyChanges()"
            />
          </fieldset>

          <fieldset>
            <legend>Delimiters</legend>
            <label for="decimalDelimiter">Decimal part separator</label>
            <input
              id="decimalDelimiter"
              name="decimalDelimiter"
              type="text"
              value="."
              oninput="applyChanges()"
            />

            <label for="thousandsDelimiter">Thousands separator</label>
            <input
              id="thousandsDelimiter"
              name="thousandsDelimiter"
              type="text"
              value=","
              oninput="applyChanges()"
            />
          </fieldset>
        </form>

        <script>
          const input = document.getElementById("input");
          const output = document.getElementById("output");

          function applyChanges() {
            const number = input.value;

            const config = {
              currency: document.forms.configForm.elements.currency.value,
              position: document.forms.configForm.elements.position.value,
              spaced:
                document.forms.configForm.elements.spaced.value === "true",
              decimals: document.forms.configForm.elements.decimals.value,
              minDecimal: parseInt(
                document.forms.configForm.elements.minDecimal.value
              ),
              maxDecimal: parseInt(
                document.forms.configForm.elements.maxDecimal.value
              ),
              decimalDelimiter:
                document.forms.configForm.elements.decimalDelimiter.value,
              thousandsDelimiter:
                document.forms.configForm.elements.thousandsDelimiter.value,
            };

            output.innerText = prettyMoney(config)(number);
            return false;
          }
        </script>
      </article>
    </main>

    <footer>
      <p>
        by <a href="https://www.kytta.dev/" target="_blank">Nikita Karamov</a>
      </p>
      <p>
        Website built with
        <a
          href="https://igoradamenko.github.io/awsm.css/index.html"
          target="_blank"
          >awsm.css</a
        >
      </p>
    </footer>
  </body>
</html>
